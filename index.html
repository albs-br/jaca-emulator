<head>
  <title>JACA-2 Emulator</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="/manifest.json">

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

</head>

<body>

  <div class="w3-container">
    <h2>JACA-2 Emulator <span id="version" class="w3-medium">v.0.0.0</span></h2>
  </div>

  <div class="w3-row-padding">

    <!-- Assembly -->
    <div class="w3-col l3 m6 s12 w3-margin-bottom">
      <ul class="w3-ul w3-border w3-center w3-hover-shadow">
        <li class="w3-black w3-large w3-padding-16">Assembly</li>
        <li class="w3-padding-16">
          <textarea id="assembly"></textarea>
        </li>
        <li class="w3-light-grey w3-padding-24">

          <div class="w3-row">

            <div class="w3-col s4 w3-left-align">
              <label for="instruction">Instruction</label>

            </div>

            <div class="w3-col s2 w3-left-align">
              <label for="r1">R1</label>
            </div>

            <div class="w3-col s2 w3-left-align">
              <label for="data">Data</label>
            </div>

          </div>

          <div class="w3-row">

            <div class="w3-col s4 w3-left-align">
              <select id="instruction">
                <option>NO OP</option>
                <option data-instruction-format="imediate">LD R1, data</option>
              </select>
            </div>

            <div class="w3-col s2 w3-left-align">
              <select id="r1">
                <option>A</option>
                <option>B</option>
                <option>H</option>
                <option>L</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
                <option>F</option>
              </select>
            </div>

            <div class="w3-col s3 w3-left-align">
              <input type="text" id="data" />        
            </div>

            <div class="w3-col s2 w3-right-align">
              <button class="w3-button w3-green">+</button>
            </div>
            
          </div>

        </li>
        <!--li class="w3-padding-16"><b>10</b> Domains</li>
        <li class="w3-padding-16"><b>Endless</b> Support</li>
        <li class="w3-padding-16">
          <h2 class="w3-wide">$ 10</h2>
          <span class="w3-opacity">per month</span>
        </li>
        <li class="w3-light-grey w3-padding-24">
          <button class="w3-button w3-green w3-padding-large">Sign Up</button>
        </li-->
      </ul>
    </div>

    <!-- Memory -->
    <div class="w3-col l2 m6 s12 w3-margin-bottom">
      
      <ul class="w3-ul w3-border w3-center w3-hover-shadow">
        <li class="w3-black w3-large w3-padding-16">Memory</li>
        <li class="w3-padding-16">
          <textarea id="memory">
          </textarea>
        </li>
        <!--li class="w3-padding-16"><b>25</b> Emails</li>
        <li class="w3-padding-16"><b>25</b> Domains</li>
        <li class="w3-padding-16"><b>Endless</b> Support</li>
        <li class="w3-padding-16">
          <h2 class="w3-wide">$ 25</h2>
          <span class="w3-opacity">per month</span>
        </li-->
        <li class="w3-light-grey w3-padding-24">
          <button id="clearMemory" class="w3-button w3-green w3-padding-large">
            <i class="fas fa-trash"></i>  <span class="w3-hide-small">Clear</span>
          </button>
          
          <div class="w3-dropdown-click">
            <button id="loadMemory" class="w3-button w3-green w3-padding-large">
              <i class="fas fa-eject"></i>  <span class="w3-hide-small">Load</span>
            </button>
            <div id="loadMemoryMenu" class="w3-dropdown-content w3-bar-block w3-border" style="right:0">
              <!-- <a href="#" class="w3-bar-item w3-button">Test program 1</a> -->
            </div>
          </div>
        </li>
      </ul>
    </div>

    <!-- CPU -->
    <div class="w3-col l7 m12 s12 w3-margin-bottom">
      <ul class="w3-ul w3-border w3-center w3-hover-shadow">
        
        <li class="w3-green w3-large w3-padding-16">CPU</li>
        
        <li class="cpuState w3-padding-16">
          <span class="w3-card w3-padding cpuStateInner">
            <span class="w3-hide-small">Fetch-</span>1
          </span>
          <span class="w3-card w3-padding cpuStateInner">
            <span class="w3-hide-small">Fetch-</span>2
          </span>
          <span class="w3-card w3-padding cpuStateInner">
            <span class="w3-hide-small">Fetch-</span>3
          </span>
          <span class="w3-card w3-padding cpuStateInner">
            Exec<span class="w3-hide-small">ute</span>
          </span>
        </li>
        
        <li class="w3-padding-16">
          <div class="w3-row-padding w3-center">
            <div class="w3-col s6">
              <label>PC</label>
              <input id="pc" class="w3-input w3-border w3-round addressField" type="text" placeholder="">
            </div>
            <div class="w3-col s6">
              <label>RET</label>
              <input id="ret" class="w3-input w3-border w3-round addressField" type="text" placeholder="">
            </div>
          </div>
          <div class="w3-row-padding w3-center">
            <div class="w3-col s4">
              <label>IR 1</label>
              <input id="ir1" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s4">
              <label>IR 2</label>
              <input id="ir2" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s4">
              <label>IR 3</label>
              <input id="ir3" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
          </div>
        </li>

        <li class="w3-light-grey w3-padding-24">
            <div id="currentInstruction" class="w3-col s12">
            </div>
        </li>

        <li class="w3-padding-16">
          <div class="w3-row-padding">
            <b>Registers</b>
          </div>
          <div id="registers" class="w3-row-padding w3-center">
            <div class="w3-col w3-hide-small w3-hide-medium l2">
              &nbsp;
            </div>
            <div class="w3-col s3 m1">
              <label>A</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label>B</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label class="w3-text-red">H</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label class="w3-text-red">L</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label>C</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label>D</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label>E</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3 m1">
              <label>F</label>
              <input class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
          </div>

        </li>

        <!--li class="w3-padding-16">
          <b>RET</b> <input type="text" id="ret" class="addressField" />
          <b>Time last step</b> <input type="text" id="timeElapsed" class="addressField" /> ms
        </li-->

        <li class="w3-padding-16">
          <div class="w3-row-padding">
            <b>ALU</b>
          </div>
          <div class="w3-row-padding w3-center">
            <div class="w3-col s3">
              <label>A in</label>
              <input id="aluA" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3">
              <label>B in</label>
              <input id="aluB" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3">
              <label>Function</label>
              <input id="aluFunction" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
            <div class="w3-col s3">
              <label>OUT</label>
              <input id="aluOut" class="w3-input w3-border w3-round byteField" type="text" placeholder="">
            </div>
          </div>
          <div class="w3-row-padding w3-margin w3-center">
            <div class="w3-col s12">
              <label>Flags</label>
              <span id="Z_flag" class="w3-card w3-padding">
                Zero
              </span>
              <span id="C_flag"class="w3-card w3-padding">
                Carry
              </span>
            </div>
          </div>
        </li>

        <li class="w3-light-grey w3-padding-24">
          <button id="play" class="w3-button w3-green w3-padding-large">
            <i class="fas fa-play"></i> <span class="w3-hide-small">Play</span>
          </button>
          <button id="pause" class="w3-button w3-green w3-padding-large">
            <i class="fas fa-pause"></i> <span class="w3-hide-small">Pause</span>
          </button>
          <button id="step" class="w3-button w3-green w3-padding-large">
            <i class="fas fa-step-forward"></i> <span class="w3-hide-small">Step</span>
          </button>
          <button id="reset" class="w3-button w3-green w3-padding-large">
            <i class="fas fa-redo"></i> <span class="w3-hide-small">Reset</span>
          </button>
        </li>
        
      </ul>
    </div>

  </div>



  <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBu8wb_ha1B7I5eLCTq01Rn-2hkuGQ0tcE",
      authDomain: "jaca-emulator.firebaseapp.com",
      databaseURL: "https://jaca-emulator.firebaseio.com",
      projectId: "jaca-emulator",
      storageBucket: "jaca-emulator.appspot.com",
      messagingSenderId: "267884088566"
    };
    firebase.initializeApp(config);
    
    // console.info('test');

  </script>

</body>